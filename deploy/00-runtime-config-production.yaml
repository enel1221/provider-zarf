apiVersion: pkg.crossplane.io/v1beta1
kind: DeploymentRuntimeConfig
metadata:
  name: provider-zarf-runtime-production
spec:
  deploymentTemplate:
    metadata:
      labels:
        zarf.dev/agent: ignore
    spec:
      selector:
        matchLabels:
          pkg.crossplane.io/provider: ""
      template:
        metadata:
          labels:
            zarf.dev/agent: ignore
        spec:
          containers:
          - name: package-runtime
            # Production configuration with info-level logging
            env:
            - name: ZARF_BYPASS
              value: "true"
            # Set log level to info for production (options: debug, info, warn, error)
            # - debug: Verbose Zarf library logs, detailed reconciliation steps
            # - info: Standard operational logs (default, recommended for production)
            # - warn: Only warnings and errors
            # - error: Only errors
            - name: ZARF_LOG_LEVEL
              value: "info"
            volumeMounts:
            - name: tmp-storage
              mountPath: /tmp
            - name: zarf-cache
              mountPath: /home/nonroot/.cache/zarf
            - name: images-storage
              mountPath: /images
          volumes:
          - name: tmp-storage
            emptyDir: {}
          - name: zarf-cache
            emptyDir: {}
          - name: images-storage
            emptyDir: {}
  serviceTemplate:
    metadata:
      labels:
        zarf.dev/agent: ignore
